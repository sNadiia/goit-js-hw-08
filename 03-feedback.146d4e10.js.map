{"mappings":"YAMA,IAAMA,EAAkBC,SAASC,cAAc,kBACzCC,EAAQF,SAASC,cAAc,SAC/BE,EAAWH,SAASC,cAAc,YAClCG,EAASJ,SAASC,cAAc,UAChCI,EAAc,sBACdC,EAAqB,GAErBC,EAAO,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAIvCC,EAAO,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAI7ClB,EAAgBuB,iBAAiB,SAEjC,SAA+BC,GAC7B,IAAMC,EAAYD,EAAEE,OAAOC,QACrBC,EAAeJ,EAAEE,OAAOhB,MAEZ,UAAde,GACFlB,EAAmBsB,MAAQD,EAC3BpB,EAAKF,EAAaC,IAEA,aAAdkB,IACFlB,EAAmBW,QAAUU,EAC7BpB,EAAKF,EAAaC,G,IAKxBuB,OAAOP,iBAAiB,oBACxB,SAAyBC,GACvB,IAAMO,EAAeZ,EAAKb,QAECe,IAAvBU,EAAaF,QACf1B,EAAMO,MAAQqB,EAAaF,YAGAR,IAAzBU,EAAab,UACfd,EAASM,MAAQqB,EAAab,Q,IAIlCb,EAAOkB,iBAAiB,SACxB,SAAsBC,GACpBA,EAAEQ,iBACFf,QAAQgB,IAAId,EAAKb,IAOjBE,EAAKF,EAAa,IAGlBH,EAAMO,MAAQ,GACdN,EAASM,MAAQ,E","sources":["src/js/03-feedback.js"],"sourcesContent":["// обрати елементів DOM для роботи;\n// зберегти поточні поля форми в локал;\n// після перезавантаження внести дані з локалу(якщо там є ) в поля форми;\n// стерти поля форми та вивести в консоль значення полів під час сaбміту;\n// тротле добавити.\n\nconst feedbackFormRef = document.querySelector('.feedback-form');\nconst input = document.querySelector('input');\nconst textArea = document.querySelector('textarea');\nconst button = document.querySelector('button');\nconst STORAGE_KEY = 'feedback-form-state';\nconst currentValueOfForm = {};\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nfeedbackFormRef.addEventListener('input', getCurrentValueOfForm);\n\nfunction getCurrentValueOfForm(e) {\n  const nameField = e.target.tagName;\n  const valueOfField = e.target.value;\n\n  if (nameField === 'INPUT') {\n    currentValueOfForm.email = valueOfField;\n    save(STORAGE_KEY, currentValueOfForm);\n  } else {\n    if (nameField === 'TEXTAREA') {\n      currentValueOfForm.message = valueOfField;\n      save(STORAGE_KEY, currentValueOfForm);\n    }\n  }\n}\n\nwindow.addEventListener('DOMContentLoaded', fillFromStorage);\nfunction fillFromStorage(e) {\n  const currentState = load(STORAGE_KEY);\n\n  if (currentState.email !== undefined) {\n    input.value = currentState.email;\n  }\n\n  if (currentState.message !== undefined) {\n    textArea.value = currentState.message;\n  }\n}\n\nbutton.addEventListener('click', handleSubmit);\nfunction handleSubmit(e) {\n  e.preventDefault();\n  console.log(load(STORAGE_KEY));\n\n  clearStorage();\n  clearForm();\n}\n\nfunction clearStorage() {\n  save(STORAGE_KEY, '');\n}\nfunction clearForm() {\n  input.value = '';\n  textArea.value = '';\n}\n"],"names":["$b00c40859be242c5$var$feedbackFormRef","document","querySelector","$b00c40859be242c5$var$input","$b00c40859be242c5$var$textArea","$b00c40859be242c5$var$button","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$currentValueOfForm","$b00c40859be242c5$var$save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","$b00c40859be242c5$var$load","getItem","undefined","parse","addEventListener","e","nameField","target","tagName","valueOfField","email","window","currentState","preventDefault","log"],"version":3,"file":"03-feedback.146d4e10.js.map"}